<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>나의 학습 동기 테스트 | SDT 완전판</title>
<style>
  body { font-family: "Noto Sans KR", sans-serif; background:#f7f8fa; text-align:center; padding:30px; }
  h2 { color:#2c3e50; }
  .question { margin:25px auto; background:white; padding:20px; border-radius:14px; width:85%; max-width:700px; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
  .option { display:block; margin:8px auto; padding:10px; width:80%; border-radius:8px; border:1px solid #ccc; background:#fff; cursor:pointer; }
  .option:hover { background:#eaf2ff; border-color:#007bff; }
  .selected { background:#007bff; color:white; border-color:#007bff; }
  button { margin-top:25px; padding:12px 30px; background:#007bff; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px; }
  button:hover { background:#0056b3; }
  #result { margin-top:35px; font-size:18px; font-weight:bold; color:#333; line-height:1.7; }

  /* 그래프 스타일 */
  .graph-container {
    margin: 30px auto;
    width: 85%;
    max-width: 700px;
    display: flex;
    justify-content: space-between;
  }
  .bar {
    flex: 1;
    margin: 0 5px;
    height: 45px;
    border-radius: 8px;
    line-height: 45px;
    color: white;
    font-weight: bold;
    font-size: 13px;
  }
  .inactive { background: #cfcfcf; }
  .active { background: #007bff; }
</style>
</head>
<body>

<h2>🎓 나의 학습 동기 테스트 (SDT 완전판)</h2>
<p>각 문항에 가장 가까운 답변을 선택하세요. (총 6문항)</p>

<div id="quiz"></div>
<button onclick="showResult()">결과 보기</button>

<div id="result"></div>

<script>
const questions = [
  {
    text: "1️⃣ 공부를 해야 할 이유가 딱히 떠오르지 않는다.",
    options: [
      { text: "맞아요. 왜 공부해야 하는지 모르겠어요.", type: "무조절" },
      { text: "아니요. 그래도 해야 한다는 생각은 있어요.", type: "외적 조절" }
    ]
  },
  {
    text: "2️⃣ 나는 공부를 하는 이유가...",
    options: [
      { text: "보상이나 처벌 때문이에요. 성적이나 부모님의 평가가 중요해요.", type: "외적 조절" },
      { text: "안 하면 죄책감이 들어서요. 스스로 실망하고 싶지 않아요.", type: "주입된 조절" },
      { text: "공부는 내 꿈과 목표를 이루기 위한 과정이에요.", type: "동일시된 조절" }
    ]
  },
  {
    text: "3️⃣ 내가 공부를 멈추면 가장 먼저 떠오르는 생각은?",
    options: [
      { text: "공부를 안 하면 게으르다는 말을 들을까봐 불안해요.", type: "주입된 조절" },
      { text: "공부를 안 하면 내 목표와 멀어질 것 같아요.", type: "동일시된 조절" },
      { text: "가끔은 쉬는 것도 필요하다고 생각해요.", type: "내적 조절" }
    ]
  },
  {
    text: "4️⃣ 공부를 할 때 나는...",
    options: [
      { text: "외부의 기대나 평가를 의식하면서 해요.", type: "외적 조절" },
      { text: "내가 설정한 목표를 이루기 위해 스스로 노력해요.", type: "동일시된 조절" },
      { text: "공부 그 자체가 재미있고 도전적이에요.", type: "내적 조절" }
    ]
  },
  {
    text: "5️⃣ 공부는 나에게 어떤 의미인가요?",
    options: [
      { text: "그냥 해야 하는 일 중 하나예요.", type: "무조절" },
      { text: "미래를 위해 꼭 필요한 일이에요.", type: "동일시된 조절" },
      { text: "나의 가치관과 삶의 방향과 일치해요.", type: "통합된 조절" }
    ]
  },
  {
    text: "6️⃣ 공부를 지속하게 만드는 가장 큰 이유는?",
    options: [
      { text: "보상이나 다른 사람의 인정이에요.", type: "외적 조절" },
      { text: "공부는 나의 성장과 정체성의 일부예요.", type: "통합된 조절" },
      { text: "공부 자체가 즐겁고 흥미로워요.", type: "내적 조절" }
    ]
  }
];

const quizDiv = document.getElementById('quiz');
const answers = {};

questions.forEach((q, qi) => {
  const qDiv = document.createElement('div');
  qDiv.className = 'question';
  qDiv.innerHTML = `<h4>${q.text}</h4>`;
  q.options.forEach((opt, oi) => {
    const btn = document.createElement('div');
    btn.className = 'option';
    btn.textContent = opt.text;
    btn.onclick = () => {
      document.querySelectorAll(`.q${qi}`).forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      answers[qi] = opt.type;
    };
    btn.classList.add(`q${qi}`);
    qDiv.appendChild(btn);
  });
  quizDiv.appendChild(qDiv);
});

function showResult(){
  if (Object.keys(answers).length < questions.length) {
    alert("모든 문항에 답해주세요!");
    return;
  }

  const counts = {};
  Object.values(answers).forEach(type => counts[type] = (counts[type] || 0) + 1);
  const resultType = Object.entries(counts).sort((a,b)=>b[1]-a[1])[0][0];

  const motivationCategory = {
    "무조절": "무동기",
    "외적 조절": "통제된 외적 동기",
    "주입된 조절": "통제된 외적 동기",
    "동일시된 조절": "자율적 외적 동기",
    "통합된 조절": "자율적 외적 동기",
    "내적 조절": "내적 동기"
  };

  const comments = {
    "무조절": "💡 자신의 행동이 어떤 결과로 이어지는지 잘 모르는 상태입니다. 목표를 명확히 세우고, 스스로 의미를 부여하는 것이 필요합니다.",
    "외적 조절": "💡 보상·처벌·의무 등 외부 통제 요인에 의해 행동이 유발되는 단계입니다. 스스로 기준을 세워보세요.",
    "주입된 조절": "💡 죄책감·불안·자존심 유지 같은 내적 압력에 의해 행동하는 단계입니다. 자기이해를 통해 자율성을 높일 수 있습니다.",
    "동일시된 조절": "💡 외부의 요구나 목표를 받아들여 스스로 의미를 부여한 상태입니다. 이미 자율적 동기로 발전하고 있습니다.",
    "통합된 조절": "💡 외부의 가치나 목표가 자신의 가치관과 완전히 합쳐진 상태입니다. 높은 자기결정성을 지닌 학습자입니다.",
    "내적 조절": "💡 행동 그 자체에서 흥미와 즐거움을 느끼는 단계입니다. 내적 만족이 학습의 원동력입니다."
  };

  const stages = ["무동기", "통제된 외적 동기", "자율적 외적 동기", "내적 동기"];
  const currentStage = motivationCategory[resultType];
  const graphHTML = `
    <div class="graph-container">
      ${stages.map(stage => `
        <div class="bar ${stage === currentStage ? 'active' : 'inactive'}">${stage}</div>
      `).join('')}
    </div>
  `;

  document.getElementById('result').innerHTML = `
    <h3>🎯 주요 동기: ${motivationCategory[resultType]}</h3>
    <h4>💬 조절 유형: ${resultType}</h4>
    <p>${comments[resultType]}</p>
    <h4>📊 자기결정성 연속선</h4>
    ${graphHTML}
  `;
}
</script>

</body>
</html>
