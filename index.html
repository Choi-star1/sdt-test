<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>나의 학습 동기 테스트 | SDT 개선형</title>
<style>
  body { font-family: "Noto Sans KR", sans-serif; background:#f7f8fa; text-align:center; padding:30px; }
  h2 { color:#2c3e50; }
  .question { margin:25px auto; background:white; padding:20px; border-radius:14px; width:85%; max-width:700px; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
  .option { display:block; margin:8px auto; padding:10px; width:80%; border-radius:8px; border:1px solid #ccc; background:#fff; cursor:pointer; }
  .option:hover { background:#eaf2ff; border-color:#007bff; }
  .selected { background:#007bff; color:white; border-color:#007bff; }
  button { margin-top:25px; padding:12px 30px; background:#007bff; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px; }
  button:hover { background:#0056b3; }
  #result { margin-top:35px; font-size:18px; font-weight:bold; color:#333; line-height:1.7; }

  .graph-container { margin: 30px auto; width: 85%; max-width: 700px; display: flex; justify-content: space-between; }
  .bar { flex: 1; margin: 0 5px; height: 45px; border-radius: 8px; line-height: 45px; color: white; font-weight: bold; font-size: 13px; }
  .inactive { background: #cfcfcf; }
  .active { background: #007bff; }
</style>
</head>
<body>

<h2>🎓 나의 학습 동기 테스트 (SDT 개선형)</h2>
<p>각 문항에 가장 가까운 답변을 선택하세요. (총 8문항)</p>

<div id="quiz"></div>
<button onclick="showResult()">결과 보기</button>
<div id="result"></div>

<script>
const questions = [
  {
    text: "1️⃣ 공부를 해야 한다고 생각하지만, 이유를 잘 모르겠다.",
    options: [
      { text: "정말 이유를 모르겠어요.", type: "무조절" },
      { text: "가끔 이유를 잊지만 해야 한다고 느껴요.", type: "주입된 조절" },
      { text: "공부에는 나름의 의미가 있다고 생각해요.", type: "동일시된 조절" }
    ]
  },
  {
    text: "2️⃣ 공부를 안 하면 어떤 기분이 드나요?",
    options: [
      { text: "별다른 생각이 안 들어요.", type: "무조절" },
      { text: "게으르다고 느끼거나 불안해요.", type: "주입된 조절" },
      { text: "내 목표와 멀어질 것 같아요.", type: "동일시된 조절" }
    ]
  },
  {
    text: "3️⃣ 공부를 하는 이유는?",
    options: [
      { text: "부모님, 선생님 등 외부의 기대 때문이에요.", type: "외적 조절" },
      { text: "성취하면 스스로 자랑스럽기 때문이에요.", type: "주입된 조절" },
      { text: "내 가치와 목표와 관련이 있어요.", type: "동일시된 조절" }
    ]
  },
  {
    text: "4️⃣ 공부를 할 때 가장 중요하게 생각하는 것은?",
    options: [
      { text: "칭찬이나 점수 같은 보상이에요.", type: "외적 조절" },
      { text: "내가 세운 목표를 이루는 거예요.", type: "동일시된 조절" },
      { text: "공부 그 자체가 재미있어요.", type: "내적 조절" }
    ]
  },
  {
    text: "5️⃣ 공부를 할 때 기분은 어떤가요?",
    options: [
      { text: "의무감 때문에 부담스러워요.", type: "주입된 조절" },
      { text: "가끔 즐겁기도 하지만 목적 의식이 커요.", type: "통합된 조절" },
      { text: "배우는 과정이 즐겁고 흥미로워요.", type: "내적 조절" }
    ]
  },
  {
    text: "6️⃣ 공부는 나에게 어떤 의미인가요?",
    options: [
      { text: "그냥 해야 하는 일이에요.", type: "무조절" },
      { text: "내 꿈을 이루기 위한 과정이에요.", type: "동일시된 조절" },
      { text: "나의 가치관과 일치해요.", type: "통합된 조절" }
    ]
  },
  {
    text: "7️⃣ 공부를 지속하는 이유는?",
    options: [
      { text: "칭찬이나 인정을 받기 위해서예요.", type: "외적 조절" },
      { text: "공부는 내 성장의 일부예요.", type: "통합된 조절" },
      { text: "그 자체로 흥미롭고 만족스러워요.", type: "내적 조절" }
    ]
  },
  {
    text: "8️⃣ 공부가 잘 안 될 때 나는...",
    options: [
      { text: "의욕이 잘 안 생겨요.", type: "무조절" },
      { text: "보상이 없어서 동기부여가 안 돼요.", type: "외적 조절" },
      { text: "지금은 잠깐 쉬어도 괜찮다고 생각해요.", type: "내적 조절" }
    ]
  }
];

const quizDiv = document.getElementById('quiz');
const answers = {};

questions.forEach((q, qi) => {
  const qDiv = document.createElement('div');
  qDiv.className = 'question';
  qDiv.innerHTML = `<h4>${q.text}</h4>`;
  q.options.forEach((opt, oi) => {
    const btn = document.createElement('div');
    btn.className = 'option';
    btn.textContent = opt.text;
    btn.onclick = () => {
      document.querySelectorAll(`.q${qi}`).forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      answers[qi] = opt.type;
    };
    btn.classList.add(`q${qi}`);
    qDiv.appendChild(btn);
  });
  quizDiv.appendChild(qDiv);
});

function showResult(){
  if (Object.keys(answers).length < questions.length) {
    alert("모든 문항에 답해주세요!");
    return;
  }

  // 점수 기반 평균 계산
  const counts = {};
  const weights = {
    "무조절": 1,
    "외적 조절": 2,
    "주입된 조절": 3,
    "동일시된 조절": 4,
    "통합된 조절": 5,
    "내적 조절": 6
  };

  Object.values(answers).forEach(type => {
    counts[type] = (counts[type] || 0) + 1;
  });

  let totalScore = 0, totalCount = 0;
  for (const type in counts) {
    totalScore += counts[type] * weights[type];
    totalCount += counts[type];
  }
  const avgScore = totalScore / totalCount;

  let resultType = "";
  if (avgScore < 1.5) resultType = "무조절";
  else if (avgScore < 2.5) resultType = "외적 조절";
  else if (avgScore < 3.5) resultType = "주입된 조절";
  else if (avgScore < 4.5) resultType = "동일시된 조절";
  else if (avgScore < 5.5) resultType = "통합된 조절";
  else resultType = "내적 조절";

  const motivationCategory = {
    "무조절": "무동기",
    "외적 조절": "통제된 외적 동기",
    "주입된 조절": "통제된 외적 동기",
    "동일시된 조절": "자율적 외적 동기",
    "통합된 조절": "자율적 외적 동기",
    "내적 조절": "내적 동기"
  };

  const comments = {
    "무조절": "💡 아직 학습의 의미를 명확히 찾지 못한 상태입니다. 스스로의 목표를 정의해보세요.",
    "외적 조절": "💡 외부 요인(보상, 평가)이 주요 동기입니다. 자기 기준을 세워보세요.",
    "주입된 조절": "💡 불안이나 죄책감으로 학습하는 경향이 있습니다. 자신이 원하는 방향을 찾아보세요.",
    "동일시된 조절": "💡 목표와 학습이 연결되어 있습니다. 자율성이 성장 중이에요.",
    "통합된 조절": "💡 공부가 자신의 가치관과 통합되어 있습니다. 자기결정성이 높습니다.",
    "내적 조절": "💡 학습 자체를 즐기는 단계입니다. 지속적인 성취와 탐구가 원동력입니다."
  };

  const stages = ["무동기", "통제된 외적 동기", "자율적 외적 동기", "내적 동기"];
  const currentStage = motivationCategory[resultType];
  const graphHTML = `
    <div class="graph-container">
      ${stages.map(stage => `
        <div class="bar ${stage === currentStage ? 'active' : 'inactive'}">${stage}</div>
      `).join('')}
    </div>
  `;

  document.getElementById('result').innerHTML = `
    <h3>🎯 주요 동기: ${motivationCategory[resultType]}</h3>
    <h4>💬 조절 유형: ${resultType}</h4>
    <p>${comments[resultType]}</p>
    <h4>📊 자기결정성 연속선</h4>
    ${graphHTML}
  `;
}
</script>

</body>
</html>

